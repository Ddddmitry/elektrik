Обмен данными с порталом Электрик.ру

- URL для отправки данных - https://elektrik.ru/integration/
- Формат телефонного номера: 79991234567 - Начинается с цифры 7, затем без лишних символов оставшиеся 10 цифр.
- Телефон передается в зашифрованном формате: md5( телефон + uid дистрибьютора ).
- "uid дистрибьютора" - выдается порталом Электрик.ру.
- Каждый дистрибьютор предоставляет ссылку, куда отпавлять данные.

 
1. Если дистрибьютор производит обработку через PHP
    - Данные отправляются методом POST, в формате JSON.

    1.1 Проверка пользователя (портал -> дистрибьютор)
    При регистрации электрика на портале будет отправляться запрос, дистрибьютору, на наличие этого электрика у дистрибьютора.
    Если электрик зарегистрирован в системе у дистрибьютора, то должен вернуться ответ о существовании пользователя и количестве баллов.
    Пример массива:
    [
        "action" => "user.check",
        "phone" => "d0ce29891883af28092796c01054c313"
    ]
    Пример ответа:
    [
        "exist" => true/false,
        "points" => количество бонусов, если exist - true
    ]


    1.2. Обновление баллов (дистрибьютор -> портал)
    При изменении количества баллов(бонусов) у дистрибьютора нужно отправлять эту информацию на портал.
    Пример массива для отправки:
    [
        "action" => "user.update.points",
        "phone" => "49fee5c575d6a428d4eb1180a33c0d01",
        "points" => 99,
        "uid" => "7f975a56c761db6506eca0b37ce6ec87" // Уникальный идентификатор дистрибьютора (будет предоставлен порталом)
    ]
    Варианты ответа:
        [
            "success": true
            "result": true
        ];
        [
            "success": true,
            "result": false
            "error": "UID incorrect/Phone hash incorrect"
	]

2. Если дистрибьютор использует WSDL

Данные с портала отправляются с помощью SOAP клиента.
Версия SOAP используется 1.2.
Метод для проверки пользователя - CheckUser($arParameters)
Объект который возвращает метод проверки пользователя - CheckUserResult
Массив ($arParameters) данных который будет отправляться:
[
    "phone" => "49fee5c575d6a428d4eb1180a33c0d01"
];

Результат работы метода  CheckUser() возвращать в объектом CheckUserResult с полями: exist и points
